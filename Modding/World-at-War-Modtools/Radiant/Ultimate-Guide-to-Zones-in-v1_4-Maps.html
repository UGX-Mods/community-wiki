<!--
title: Ultimate Guide to Zones in v1.4 Maps
description: 
published: true
date: 2024-01-30T10:34:01.020Z
tags: confluence:1146967  
editor: ckeditor
dateCreated: 2024-01-30T10:33:59.801Z
-->



<div class="contentLayout2">
  <div class="columnLayout two-equal" data-layout="two-equal">
    <div class="cell normal" data-type="normal">
      <div class="innerCell">
        <h1 id="UltimateGuidetoZonesinv1.4Maps-Whatarezones?WhydoIneedthem?">
          What are zones? Why do I need them?
        </h1>
        <p>
          Zones are used to divide your map into &quot;areas&quot; or
          &quot;sections&quot;. Each section has one or more zombie spawn
          locations which are activated when players are standing within the
          zone, and deactivated when no players are present. At least one zone
          is required in order for zombies to spawn on a map which runs the
          latest Mod Tools scripts (v1.4).
        </p>
        <h2 id='UltimateGuidetoZonesinv1.4Maps-Whatare"adjacent"zones?'>
          What are &quot;adjacent&quot; zones?
        </h2>
        <p>
          Adjacent zones are exactly what the name implies. They are zones which
          are directly adjacent to (or &quot;neighboring&quot;,
          &quot;bordering&quot;) another zone. The game uses adjacent zones to
          activate nearby zones to the players to give the illusion that zombies
          are &quot;coming from all directions&quot;. It makes it harder for the
          players to escape an oncoming wave of zombies.
        </p>
      </div>
    </div>
    <div class="cell normal" data-type="normal">
      <div class="innerCell">
        <p>
          <span 
            class="confluence-embedded-file-wrapper confluence-embedded-manual-size">
            <img 
              class="confluence-embedded-image confluence-external-resource confluence-content-image-border"
              draggable="false"
              alt="Aerial view of zones on UGX Comosea"
              height="382"
              width="610"
              src="http://i.imgur.com/rBV7Fej.jpg"
              data-image-src="http://i.imgur.com/rBV7Fej.jpg" >
          </span>
        </p>
      </div>
    </div>
  </div>
  <div class="columnLayout single" data-layout="single">
    <div class="cell normal" data-type="normal">
      <div class="innerCell">
        <h1 id="UltimateGuidetoZonesinv1.4Maps-HowtosetupZones">
          How to set up Zones
        </h1>
        <h2 id="UltimateGuidetoZonesinv1.4Maps-Volumes">Volumes</h2>
        <p>
          To create a zone volume in Radiant, right-click the 2d view and from
          the Info menu, click Volume. This will create a brush with the
          &quot;Volume Texture&quot; on it.
          <strong>
            You must create volumes this way. You cannot just draw a normal
            brush and then apply the Volume tool-texture to it
          </strong>
          .
        </p>
        <p>
          Stretch the brush to cover a section of your map. You want each zone
          to represent an area which has been sectioned off by buy-able
          barriers/debris.
        </p>
        <div 
          class="confluence-information-macro confluence-information-macro-warning">
          <p class="title conf-macro-render">Warning</p>
          <span 
            class="aui-icon aui-icon-small aui-iconfont-error confluence-information-macro-icon"></span>
          <div class="confluence-information-macro-body">
            <p>
              Make sure you cover ALL playable area with zones volumes. If a
              player steps outside of a zone at any time, the game will freeze
              for a few seconds and zombies will not be able to find the player.
            </p>
          </div>
        </div>
        <p>
          In order to accurately cover an area with a zone volume, you may need
          to use multiple brushes (see Fig. 1). This is OK as long as you give
          the additional zone pieces the same KVPs.
        </p>
        <h3 id="UltimateGuidetoZonesinv1.4Maps-SettingtheKVP&#39;s">
          Setting the KVP's
        </h3>
        <p></p>
        <div 
          class="confluence-information-macro confluence-information-macro-tip">
          <span 
            class="aui-icon aui-icon-small aui-iconfont-approve confluence-information-macro-icon"></span>
          <div class="confluence-information-macro-body">
            <p>
              <strong>NOTE:</strong>
              KVP is an abbreviation for &quot;Key-Value Pair&quot;. When
              entering a KVP in the Radiant Entity Window,
              <strong>ensure that you have the entity selected first</strong>
              . If you do not have an entity selected, Radiant will
              automatically add the KVP to the &quot;worldspawn&quot; entity.
              This is BAD and will likely cause your map to crash while loading!
              In these pages, KVP's are referred to in this format: Key | Value.
              Note they are separated by a pipe ( | ) character. This character
              should be ignored when entering the Key-Value Pair.
              <br>
              <strong>To properly add a KVP to an entity:</strong>
            </p>
            <ul>
              <li>
                Select the entity by holding the Shift key on your keyboard
                followed by clicking the entity(ies) that you wish to add a KVP
                to.
              </li>
              <li>
                Enter the first value (this is the Key) into the text field
                labeled &quot;Key&quot;
              </li>
              <li>
                Enter the second value (this is the Value) into the text field
                labaled &quot;Value&quot;.
              </li>
              <li>
                Press the Enter key on your keyboard to save the KVP to the
                entity. You should see the KVP appear in the entity's KVP table
                (located above the Key text field).
              </li>
            </ul>
          </div>
        </div>
        <br>
        Select the zone volume(s) and give them the following KVP's:
        <div class="table-wrap">
          <table class="confluenceTable">
            <tbody>
              <tr>
                <th class="confluenceTh"><p>Key</p></th>
                <th class="confluenceTh"><p>Value</p></th>
              </tr>
              <tr>
                <td class="confluenceTd"><p>targetname</p></td>
                <td class="confluenceTd"><p>&lt;zone_name&gt;</p></td>
              </tr>
              <tr>
                <td class="confluenceTd"><p>target</p></td>
                <td class="confluenceTd"><p>&lt;zone_name&gt;_spawners</p></td>
              </tr>
            </tbody>
          </table>
        </div>
        <ul>
          <li>
            Replace &lt;zone_name&gt; with a name for the zone. Remember the
            names you give these zones because you will need to recall them
            later.
          </li>
          <li>
            <p>
              Make sure to append &quot;_spawners&quot; to the zone name when
              entering the target value - this will tell the zone which zombie
              spawners it will activate.
            </p>
            <div 
              class="confluence-information-macro confluence-information-macro-tip">
              <span 
                class="aui-icon aui-icon-small aui-iconfont-approve confluence-information-macro-icon"></span>
              <div class="confluence-information-macro-body">
                <strong>Note:</strong>
                Each area should have its own unique name to prevent conflict
                with other areas you have created. Your names can be as simple
                as &quot;zone1&quot;, &quot;zone2&quot;, etc, or you can name
                them specifically like &quot;twostory_house_2nd_floor&quot;.
              </div>
            </div>
          </li>
        </ul>
        <h2 id="UltimateGuidetoZonesinv1.4Maps-Spawners">Spawners</h2>
        <p>
          Each zone's purpose is to activate/deactive the zombie spawners it is
          linked to. In order for this to work properly you must correctly link
          your zombie &amp; dog spawners to your zones.
        </p>
        <p>
          For more info on how to create a zombie or dog spawner, see
          <span class="confluence-link">
            <a href="Creating-Zombie-and-Dog-Spawners_1146956.html">
              Creating Zombie and Dog Spawners
            </a>
          </span>
        </p>
        <p>
          Select the spawners which you want to link to a zone. Give them the
          following KVP:
          <br>
          Select the zone volume(s) and give them the following KVP's:
        </p>
        <div class="table-wrap">
          <table class="confluenceTable">
            <tbody>
              <tr>
                <th class="confluenceTh"><p>Key</p></th>
                <th class="confluenceTh"><p>Value</p></th>
              </tr>
              <tr>
                <td class="confluenceTd"><p>targetname</p></td>
                <td class="confluenceTd"><p>&lt;zone_name&gt;_spawners</p></td>
              </tr>
            </tbody>
          </table>
        </div>
        <ul>
          <li>
            Replace &lt;zone_name&gt; with the zone name which this spawner
            should be linked to. This should match the value you set for the
            &quot;target&quot; key of the zone volumes. A zombie AI spawner
            which is properly linked to a zone will be connected to the zone
            with a yellow line in Radiant, assuming the zone has not been
            hidden.
          </li>
        </ul>
        <p>
          Remember that all of your riser and dog structs need to have the
          proper targetname to work properly with zones. See
          <a href="Creating-Zombie-and-Dog-Spawners_1146956.html">
            Creating Zombie and Dog Spawners
          </a>
           for more info.
        </p>
        <h2 id="UltimateGuidetoZonesinv1.4Maps-ScriptChanges">
          Script Changes
        </h2>
        <p>
          <code>
            <div 
              class="confluence-information-macro confluence-information-macro-tip">
              <span 
                class="aui-icon aui-icon-small aui-iconfont-approve confluence-information-macro-icon"></span>
              <div class="confluence-information-macro-body">
                <p>
                  <strong>NOTE:</strong>
                  <strong>&quot;mapname.gsc&quot;</strong>
                  refers to your map's main gsc file, which is named the same
                  name as your map.
                </p>
                <p>
                  For example, a map called &quot;nazi_zombie_example&quot;
                  would have a mapname.gsc named
                  &quot;nazi_zombie_example.gsc&quot;. This file is commonly
                  used to call custom scripts for a map.
                </p>
                <p>
                  Lines which precache items such as models need to be called
                  BEFORE the gamestate starts and should not be threaded. Lines
                  which do not precache any items should be called AFTER the
                  gamestate starts and should be threaded.
                </p>
                <p>
                  <strong>
                    The gamestate is started by this line in mapname.gsc:
                  </strong>
                </p>
                <div class="mw-geshi" style="text-align: left">
                  <div class="cpp source-cpp">
                    <pre 
                      class="de1">maps\_zombiemode<span class="sy4">::</span><span class="me2">main</span><span class="br0">(</span><span class="br0">)</span><span class="sy4">;</span></pre>
                  </div>
                </div>
                <p><strong>To add lines to your mapname.gsc:</strong></p>
                <ul>
                  <li>
                    Open your mapname.gsc file, which can be found in
                    <strong>root/mods/mapname/maps</strong>
                    .
                  </li>
                  <li>
                    For Precache Lines, add them
                    <strong>before</strong>
                    the gamestate line.
                  </li>
                  <li>
                    For Thread Lines, add them
                    <strong>after</strong>
                    the gamestate line.
                  </li>
                </ul>
              </div>
            </div>
            <br>
          </code>
        </p>
        <h3 id="UltimateGuidetoZonesinv1.4Maps-Declaringthestartzone">
          Declaring the start zone
        </h3>
        <p>
          You must tell the game the name of the zone which players spawn inside
          at the start of the game. Since this zone is not activated by debris,
          it is declared differently than normal zones.
        </p>
        <p>Find this line in your mapname.gsc</p>
        <div class="code panel pdl" style="border-width: 1px">
          <div class="codeContent panelContent pdl">
            <pre><code class="language-cpp">
zones = [];
zones[zones.size] = &quot;initial_zone&quot; </code></pre>
          </div>
        </div>
        <p>
          Change &quot;initial_zone&quot; to match the name of your start zone.
          Typically people use &quot;start_zone&quot; as their name, but if you
          want to save a step you could just use &quot;initial_zone&quot;.
        </p>
        <h3 id="UltimateGuidetoZonesinv1.4Maps-DeclaringAdjacentZones">
          Declaring Adjacent Zones
        </h3>
        <p>
          In order for the game to know which zones are
          <a href='#UltimateGuidetoZonesinv1.4Maps-Whatare"adjacent"zones?'>
            <span class="confluence-link">&quot;adjacent&quot;</span>
          </a>
          , you must set the zones up in your mapname.gsc.
        </p>
        <p>Find this block of code in your mapname.gsc:</p>
        <div class="code panel pdl" style="border-width: 1px">
          <div class="codeContent panelContent pdl">
            <pre><code class="language-cpp">
dlc3_zone_init()
{
/*
h2. ///ScriptDocBegin

&quot;Name: add_adjacent_zone( &lt;zone_1&gt;, &lt;zone_2&gt;, &lt;flag&gt;, &lt;one_way&gt; )&quot;
&quot;Summary: Sets up adjacent zones.&quot;
&quot;MandatoryArg: &lt;zone_1&gt;: Name of first Info_Volume&quot;
&quot;MandatoryArg: &lt;zone_2&gt;: Name of second Info_Volume&quot;
&quot;MandatoryArg: &lt;flag&gt;: Flag to be set to initiate zones&quot;
&quot;OptionalArg: &lt;one_way&gt;: Make &lt;zone_1&gt; adjacent to &lt;zone_2&gt;. Defaults to false.&quot;
&quot;Example: add_adjacent_zone( &quot;receiver_zone&quot;, &quot;outside_east_zone&quot;, &quot;enter_outside_east&quot; );&quot;
///ScriptDocEnd

*/

// Outside East Door
//add_adjacent_zone( &quot;receiver_zone&quot;, &quot;outside_east_zone&quot;, &quot;enter_outside_east&quot; );
}</code></pre>
          </div>
        </div>
        <p>
          <br>
          Here you should see that Treyarch has already been kind enough to
          provide a brief description of how to set up your zones. I will not go
          to the trouble of repeating what is already written there, instead I
          will expand upon it for clarity.
        </p>
        <p>
          Below the &quot;Outside East Door&quot; example is where you will be
          adding your own adjacent zone definitions. To begin, copy this code
          below the example add_adjacent_zone line (which has been commented
          out):
        </p>
        <div class="code panel pdl" style="border-width: 1px">
          <div class="codeContent panelContent pdl">
            <pre><code class="language-cpp">
add_adjacent_zone( &quot;zone_name&quot;, &quot;adjacent_zone_name&quot;, &quot;flag_to_activate_zone_name&quot; );</code></pre>
          </div>
        </div>
        <ul>
          <li>
            &quot;zone_name&quot; should be replaced with the name of the area
            which you are declaring adjacency to.
          </li>
          <li>
            &quot;adjacent_zone_name&quot; should be replaced with the name of
            the area which is adjacent to the zone you specified for
            &quot;zone_name&quot;.
          </li>
          <li>
            &quot;flag_to_activate_zone_name&quot; should be replaced with a
            unique text string which matches the script_flag of the debris that
            activates the zone. Traditionally people use
            &quot;enter_&lt;zone_name&gt;&quot;, but you can use whatever you
            like.
          </li>
          <li>
            The last parameter, &quot;one_way&quot;, is rarely ever used and
            therefore was not specified in the sample line. This is a true/false
            bool which defaults to false when not specified. If set to true,
            once the zone is activated, the game assumes that the adjacency from
            one zone to another is not bi-directional. In certain cases you may
            have a drop-off where players can drop to a new area but cannot
            climb back up the drop. This an example scenario where you should
            set &quot;one_way&quot; to true.
          </li>
        </ul>
        <p>
          For every area you created in Radiant (ex; &quot;zone1&quot;,
          &quot;zone2&quot;, etc), you will need to paste a copy of the sample
          line at least once. If there are multiple zones adjacent to your zone
          then you will have multiple add_adjacent_zone() calls for the same
          zone_name.
        </p>
        <h3 id="UltimateGuidetoZonesinv1.4Maps-Example">Example</h3>
        <p>
          The best way is to learn by example. Consider the following snippet
          from UGX Comosea's mapname.gsc:
        </p>
        <div class="code panel pdl" style="border-width: 1px">
          <div class="codeContent panelContent pdl">
            <pre><code class="language-cpp">
dlc3_zone_init()
{
add_adjacent_zone( &quot;start_zone&quot;, &quot;leftside_spawn_house&quot;, &quot;enter_leftside_spawn_house&quot; );
add_adjacent_zone( &quot;start_zone&quot;, &quot;center_building&quot;, &quot;enter_center_building&quot; );
add_adjacent_zone( &quot;leftside_spawn_house&quot;, &quot;left_breezeway&quot;, &quot;enter_leftside_spawn_house&quot; );
add_adjacent_zone( &quot;left_breezeway&quot;, &quot;rear_lakeside&quot;, &quot;enter_leftside_spawn_house&quot; );
add_adjacent_zone( &quot;left_breezeway&quot;, &quot;center_building&quot;, &quot;enter_leftside_spawn_house&quot; );
add_adjacent_zone( &quot;rear_lakeside&quot;, &quot;garage&quot;, &quot;enter_garage_zone&quot; );
add_adjacent_zone( &quot;rear_lakeside&quot;, &quot;right_breezeway&quot;, &quot;enter_leftside_spawn_house&quot; );
add_adjacent_zone( &quot;right_breezeway&quot;, &quot;back_right_area&quot;, &quot;enter_leftside_spawn_house&quot; );
add_adjacent_zone( &quot;right_breezeway&quot;, &quot;center_right_building&quot;, &quot;enter_center_right_building&quot; );
add_adjacent_zone( &quot;back_right_area&quot;, &quot;back_right_building&quot;, &quot;enter_back_right_building&quot; );
add_adjacent_zone( &quot;back_right_area&quot;, &quot;far_right_area&quot;, &quot;enter_far_right_area&quot; );
add_adjacent_zone( &quot;far_right_area&quot;, &quot;far_right_area_room&quot;, &quot;enter_far_right_area&quot; );
add_adjacent_zone( &quot;back_right_area&quot;, &quot;billboard_room&quot;, &quot;enter_leftside_spawn_house&quot; );
add_adjacent_zone( &quot;billboard_room&quot;, &quot;billboard_area&quot;, &quot;enter_leftside_spawn_house&quot; );
add_adjacent_zone( &quot;billboard_area&quot;, &quot;far_right_area&quot;, &quot;enter_far_right_area&quot; );
add_adjacent_zone( &quot;garage&quot;, &quot;far_left_area&quot;, &quot;enter_far_left_area&quot; );
add_adjacent_zone( &quot;far_left_area&quot;, &quot;far_left_room&quot;, &quot;enter_far_left_area&quot; );
add_adjacent_zone( &quot;back_right_area&quot;, &quot;center_breezeway&quot;, &quot;enter_leftside_spawn_house&quot; );
add_adjacent_zone( &quot;rear_lakeside&quot;, &quot;center_breezeway&quot;, &quot;enter_leftside_spawn_house&quot; );
}</code></pre>
          </div>
        </div>
        <p>As you can see, one zone can have multiple adjacent ones.</p>
        <h2 id="UltimateGuidetoZonesinv1.4Maps-Barriers/Blockers/Debris/Doors">
          Barriers/Blockers/Debris/Doors
        </h2>
        <p>
          Zones must be activated by the script_flag KVP on a barrier, blocker,
          debris, or door. Ensure the script_flag matches what you specified for
          the zone in your mapname.gsc
        </p>
        <p>See:</p>
        <ul>
          <li>
            <span class="confluence-link">
              <a href="Creating-a-Debris-Blocker_1146929.html">
                Creating a Debris Blocker
              </a>
            </span>
          </li>
          <li>
            <span class="confluence-link">
              <a href="Creating-a-Moving-Door-Blocker_1146927.html">
                Creating a Moving Door Blocker
              </a>
            </span>
          </li>
          <li>
            <span class="confluence-link">
              <a href="Creating-a-Swinging-Door-Blocker_1146925.html">
                Creating a Swinging Door Blocker
              </a>
            </span>
          </li>
          <li>
            <span class="confluence-link">
              <a href="1146942.html">Creating a flagwait() Blocker</a>
            </span>
          </li>
        </ul>
        <h1 
          id="UltimateGuidetoZonesinv1.4Maps-Help!Igetascript_runtimeerrorormygamelags...">
          Help! I get a script_runtime error or my game lags...
        </h1>
        <h2 id="UltimateGuidetoZonesinv1.4Maps-...whenIspawnintomymap">
          ...when I spawn into my map
        </h2>
        <p>
          You probably forgot to set up your start_zone in your mapname.gsc. See
          <a href="#UltimateGuidetoZonesinv1.4Maps-Declaringthestartzone">
            Declaring the start zone
          </a>
          .
        </p>
        <h2 id="UltimateGuidetoZonesinv1.4Maps-...whenIenteranewzone">
          ...when I enter a new zone
        </h2>
        <p>
          Add
          <a 
            class="external-link"
            href="http://ugx-mods.com/downloads/tutorials/zone_debugger.iwd"
            rel="nofollow">
            zone_debugger.iwd
          </a>
          to your
          <strong>
            C:\Users\&lt;USERNAME&gt;\AppData\Local\Activision\CoDWaW\mods\mapname
          </strong>
          folder and run the map. Pause the game and check the console output
          after you spawn.
        </p>
        <p>
          Scroll all the way to the bottom of the console window and look for
          any yellow
          <span class="confluence-link">[ Warning</span>
          ] lines or red
          <span class="confluence-link">[ Error</span>
          lines ]. You need to resolve all of these yellow/red issues to solve
          this script_runtime error.
        </p>
        <p>
          <span class="confluence-embedded-file-wrapper">
            <img 
              class="confluence-embedded-image confluence-external-resource"
              draggable="false"
              src="http://i.imgur.com/rh7H4x9.png"
              data-image-src="http://i.imgur.com/rh7H4x9.png" >
          </span>
        </p>
        <p>
          If you don't see any yellow [
          <span class="confluence-link">Warning ]</span>
          's or red [
          <span class="confluence-link">Errors ]</span>
          , then proceed by buying your way to the zone which causes the
          error/freeze. Now check the console again for any yellow
          <span class="confluence-link">[ Warning ]</span>
          's or red
          <span class="confluence-link">[ Errors ]</span>
          . Follow the directions that the lines give you.
        </p>
        <p>
          <strong>
            Please remember to REMOVE the zone_debugger IWD from your map folder
            before releasing your map.
          </strong>
        </p>
        <p>
          <span class="confluence-link">Credit:</span>
          Treminaor
        </p>
      </div>
    </div>
  </div>
</div>
