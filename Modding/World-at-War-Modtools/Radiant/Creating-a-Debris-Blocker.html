<!--
title: Creating a Debris Blocker
description:
published: true
date: 2024-01-30T10:32:02.973Z
tags: confluence:1146929
editor: ckeditor
dateCreated: 2024-01-30T10:32:01.848Z
-->

<p>Blockers force players to spend money to unlock new areas in a map.</p>
<h1 id="CreatingaDebrisBlocker-Preparation">Preparation</h1>
<h2 id="CreatingaDebrisBlocker-Itemsneeded">Items needed</h2>
<p>
  First you must create the blocker in Radiant. A standard blocker consists of
  these items:
</p>
<ul>
  <li>One or more trigger_use brushes.</li>
  <li>One or more debris script_brushmodels or script_models.</li>
  <li>
    One or more clip script_brushmodels which prevent players from walking
    through the blocker before it is purchased.
  </li>
</ul>
<h2 id="CreatingaDebrisBlocker-SettingtheKVP&#39;s">Setting the KVP's</h2>
<p></p>
<div class="banner banner-tip">
  <img
    src="/attachments/icons/information-check-decagram.png"
    alt=""
    class="banner-icon" />

  <div class="banner-body">
    <p>
      <strong>NOTE:</strong>
      KVP is an abbreviation for &quot;Key-Value Pair&quot;. When entering a KVP
      in the Radiant Entity Window,
      <strong>ensure that you have the entity selected first</strong>
      . If you do not have an entity selected, Radiant will automatically add
      the KVP to the &quot;worldspawn&quot; entity. This is BAD and will likely
      cause your map to crash while loading! In these pages, KVP's are referred
      to in this format: Key | Value. Note they are separated by a pipe ( | )
      character. This character should be ignored when entering the Key-Value
      Pair.
      <br />
      <strong>To properly add a KVP to an entity:</strong>
    </p>
    <ul>
      <li>
        Select the entity by holding the Shift key on your keyboard followed by
        clicking the entity(ies) that you wish to add a KVP to.
      </li>
      <li>
        Enter the first value (this is the Key) into the text field labeled
        &quot;Key&quot;
      </li>
      <li>
        Enter the second value (this is the Value) into the text field labaled
        &quot;Value&quot;.
      </li>
      <li>
        Press the Enter key on your keyboard to save the KVP to the entity. You
        should see the KVP appear in the entity's KVP table (located above the
        Key text field).
      </li>
    </ul>
  </div>
</div>
<code><br /></code>
<h3 id="CreatingaDebrisBlocker-Triggers">Triggers</h3>
<p>Select the trigger_use brush(es) and give them the following KVP's:</p>
<div class="table-wrap">
  <table class="confluenceTable">
    <tbody>
      <tr>
        <th class="confluenceTh"><p>Key</p></th>
        <th class="confluenceTh"><p>Value</p></th>
      </tr>
      <tr>
        <td class="confluenceTd"><p>targetname</p></td>
        <td class="confluenceTd"><p>zombie_debris</p></td>
      </tr>
      <tr>
        <td class="confluenceTd"><p>script_flag</p></td>
        <td class="confluenceTd"><p>&lt;zone_name&gt;</p></td>
      </tr>
      <tr>
        <td class="confluenceTd">
          <p><span style="color: rgb(51, 153, 102)">zombie_cost</span></p>
        </td>
        <td class="confluenceTd">
          <p>
            <span style="color: rgb(51, 153, 102)">&lt;any number&gt;</span>
          </p>
        </td>
      </tr>
    </tbody>
  </table>
</div>
<ul>
  <li>
    Items highlighted in
    <span style="color: rgb(51, 153, 102)"><code>green</code></span>
    are optional.
  </li>
  <li>script_flag's value should be set to the zone name the door unlocks.</li>
  <li>
    <p>
      By default, zombie_cost sets itself to 1000. If you would like to set a
      custom price, set the
      <span style="color: rgb(51, 153, 102)"><code>zombie_cost</code></span>
      key and replace '&lt;any number&gt;' with a numerical value.
    </p>
    <div class="banner banner-warning">
      <img
        src="/attachments/icons/information-alert-octagon.png"
        alt=""
        class="banner-icon" />

      <div class="banner-body">
        <strong>Warning:</strong>
        The zombie_cost key can only be set to any value if you have applied the
        UGX Modtools Patch to your World at War installation. To install the
        patch, refer to
        <a
          href="https://confluence.ugx-mods.com/display/UGXMODS/Modtools+Installation+Guide#ModtoolsInstallationGuide-InstallingtheFiles"
          rel="nofollow">
          &quot;Installing the Files&quot;
        </a>
        <span class="confluence-link"> </span>
        in the
        <span class="confluence-link"> </span>
        <a
          href="https://confluence.ugx-mods.com/display/UGXMODS/Modtools+Installation+Guide"
          rel="nofollow">
          <span class="confluence-link">Modtools Installation Guide</span>
        </a>
        . If you do not install the UGX Modtools Patch, you can only use the
        following prices for debris: 100, 200, 250, 500, 750, 1000, 1250, 1500,
        1750, 2000
      </div>
    </div>
  </li>
</ul>
<h3 id="CreatingaDebrisBlocker-Debris">Debris</h3>
<p>
  Select the debris script_brushmodel(s) or script_model(s) and give them the
  following KVP's:
</p>
<div class="table-wrap">
  <table class="confluenceTable">
    <tbody>
      <tr>
        <th class="confluenceTh"><p>Key</p></th>
        <th class="confluenceTh"><p>Value</p></th>
      </tr>
      <tr>
        <td class="confluenceTd"><p>spawnflags</p></td>
        <td class="confluenceTd"><p>1</p></td>
      </tr>
      <tr>
        <td class="confluenceTd">
          <p><span style="color: rgb(51, 153, 102)">script_firefx</span></p>
        </td>
        <td class="confluenceTd">
          <p><span style="color: rgb(51, 153, 102)">&lt;fx_name&gt;</span></p>
        </td>
      </tr>
      <tr>
        <td class="confluenceTd">
          <p><span style="color: rgb(51, 153, 102)">script_fxid</span></p>
        </td>
        <td class="confluenceTd">
          <p><span style="color: rgb(51, 153, 102)">&lt;fx_name&gt;</span></p>
        </td>
      </tr>
      <tr>
        <td class="confluenceTd">
          <p><span style="color: rgb(51, 153, 102)">script_noteworthy</span></p>
        </td>
        <td class="confluenceTd">
          <p><span style="color: rgb(51, 153, 102)">jiggle</span></p>
        </td>
      </tr>
      <tr>
        <td class="confluenceTd">
          <p>
            <span style="color: rgb(51, 153, 102)">script_transition_time</span>
          </p>
        </td>
        <td class="confluenceTd">
          <p>
            <span style="color: rgb(51, 153, 102)">&lt;any number&gt;</span>
          </p>
        </td>
      </tr>
    </tbody>
  </table>
</div>
<ul>
  <li>
    Items highlighted in
    <span style="color: rgb(51, 153, 102)"><code>green</code></span>
    are optional.
  </li>
  <li>
    If you would like to have a fx play when the blocker is purchased, set the
    <span style="color: rgb(51, 153, 102)"><code>script_firefx</code></span>
    key and replace '&lt;fx_name&gt;' with any included, loaded, and declared fx
    name. Treyarch maps use &quot;poltergeist&quot; (without quotes). You can
    use this fx as it is included, loaded, and declared already.
    <br />
    <code>
      warning|The script_firefx fx will only play if you have defined a
      script_linkTo struct for the debris to fly to. If you have applied the UGX
      Modtools Patch to your World at War installation, the fx will play
      regardless of the presence of a script_linkTo struct for your convenience.
      To install the patch, refer to section 2.2 of the
      <span class="confluence-link">
        <a href="Modtools-Installation-Guide_1146962.html">
          Modtools Installation Guide
        </a>
      </span>
      .
    </code>
  </li>
  <li>
    If you would like to have a fx play when the blocker finished moving, set
    the
    <span style="color: rgb(51, 153, 102)"><code>script_fxid</code></span>
    key and replace '&lt;fx_name&gt;' with any included, loaded, and declared fx
    name. Treyarch maps use &quot;poltergeist&quot; (without quotes). You can
    use this fx as it is included, loaded, and declared already. If you do not
    create a script_linkTo struct, this KVP is irrelevant and the fx will never
    play because nothing will move.
  </li>
  <li>
    If you would like the debris to jiggle before it flys away, set the
    <span style="color: rgb(51, 153, 102)"><code>script_noteworthy</code></span>
    key to &quot;jiggle&quot; (without quotes). If you do not create a
    script_linkTo struct, this KVP is irrelevant and the fx will never play
    because nothing will move.
  </li>
  <li>
    By default, the debris take 0.5 seconds to transition from their origin to
    the script_linkTo struct origin. If you would like to use a custom
    transition time, set the
    <span style="color: rgb(51, 153, 102)">
      <code>script_transition_time</code>
    </span>
    key and replace '&lt;any_number&gt;' with a numerical value (measured in
    seconds). If you do not create a script_linkTo struct, this KVP is
    irrelevant and the fx will never play because nothing will move.
  </li>
</ul>
<h3 id="CreatingaDebrisBlocker-Clips">Clips</h3>
<p>Select the clip script_brushmodel(s) and give them the following KVP:</p>
<div class="table-wrap">
  <table class="confluenceTable">
    <tbody>
      <tr>
        <th class="confluenceTh"><p>Key</p></th>
        <th class="confluenceTh"><p>Value</p></th>
      </tr>
      <tr>
        <td class="confluenceTd"><p>spawnflags</p></td>
        <td class="confluenceTd"><p>1</p></td>
      </tr>
      <tr>
        <td class="confluenceTd"><p>script_noteworthy</p></td>
        <td class="confluenceTd"><p>clip</p></td>
      </tr>
    </tbody>
  </table>
</div>
<h2 id="CreatingaDebrisBlocker-TargetinginRadiant">Targeting in Radiant</h2>
<h3 id="CreatingaDebrisBlocker-LinkingtheEntities">Linking the Entities</h3>
<p>
  Now that you have created all of the necessary items and given them the
  correct KVP's, it is time to link the items together using targeting.
  <br />
</p>
<div class="banner banner-tip">
  <img
    src="/attachments/icons/information-check-decagram.png"
    alt=""
    class="banner-icon" />

  <div class="banner-body">
    <p>
      <strong>NOTE:</strong>
      &quot;targeting&quot; is a method for linking entities together in a
      group. Targeting has menu useful applications, such as controlling an
      entity that has multiple pieces. For example, the Mystery Box uses
      targeting to link each separate script_model part of the box to the main
      trigger_use. Targeting generates automatic targetname and target KVP's on
      the affected entities. When two items are properly linked together, a red
      or blue line is drawn from the main entity to each of its targets/links in
      Radiant.
      <br />
      <strong>To properly target one item to another:</strong>
    </p>
    <ul>
      <li>
        Determine which of the affected entities is going to be the &quot;root
        entity&quot;. The root entity is the entity that will be referenced by
        name in script. Root entities are found in script by using
        getEnt(&quot;root_entity_targetname&quot;, &quot;targetname&quot;);.
      </li>
      <li>
        Determine which of the affected entities is going to be the target/link.
        The target/link entity(ies) are the &quot;children&quot; of the root
        entity and do not need specific targetnames. Target/link entities are
        found in script by using getEnt(root_entity.target,
        &quot;targetname&quot;);
      </li>
      <li>Deselect all items by pressing ESC on your keyboard</li>
      <li>
        Select the
        <strong>root entity</strong>
        first.
      </li>
      <li>
        Next, select
        <strong>one</strong>
        of the target/link entities and press W on your keyboard. This will
        create the link between the two entities. Repeat this step for all
        target/link children of the root entity until all entities have red or
        blue lines connecting them to the root entity.
      </li>
    </ul>
  </div>
</div>
<br />
In this case, the root entity is the trigger_use. If you have more than one
trigger_use, just pick one to link all entities to. Later we will include the
remaining trigger_use's.
<br />
The children of the trigger_use are the clip(s) and debris model(s). Link them
to the root entity using the instructions above.
<p>
  Once you have linked all the entities to the root trigger_use, copy the target
  KVP from the root trigger_use to each of the remaining trigger_use's. The
  lines should now be going from all trigger_use's.
</p>
<h3 id="CreatingaDebrisBlocker-Definingascript_linkTo">
  Defining a script_linkTo
</h3>
<p>
  Optionally you can specify a point for debris to fly away towards when
  purchased. For example, you could specify that the debris fly away at a 45
  degree angle into the ground.
</p>
<p>To define a script_linkTo:</p>
<ul>
  <li>
    Spawn a script_struct in Radiant and position it at the point where you want
    the debris to fly to.
  </li>
  <li>
    <p>Give the script_struct the following KVP:</p>
    <div class="table-wrap">
      <table class="confluenceTable">
        <tbody>
          <tr>
            <th class="confluenceTh"><p>Key</p></th>
            <th class="confluenceTh"><p>Value</p></th>
          </tr>
          <tr>
            <td class="confluenceTd"><p>script_linkName</p></td>
            <td class="confluenceTd"><p>&lt;linkName&gt;</p></td>
          </tr>
        </tbody>
      </table>
    </div>
  </li>
</ul>
<p>
  <strong>
    Replace &lt;linkName&gt; with a unique name of your choosing. *Do not use
    the same linkName for more than one script_struct!
  </strong>
</p>
<ul>
  <li>
    <p>Select your debris model and give it the following KVP:</p>
    <div class="table-wrap">
      <table class="confluenceTable">
        <tbody>
          <tr>
            <th class="confluenceTh"><p>Key</p></th>
            <th class="confluenceTh"><p>Value</p></th>
          </tr>
          <tr>
            <td class="confluenceTd"><p>script_linkTo</p></td>
            <td class="confluenceTd"><p>&lt;linkName&gt;</p></td>
          </tr>
        </tbody>
      </table>
    </div>
  </li>
  <li>
    Replace &lt;linkName&gt; with the unique name you gave the script_struct.
  </li>
  <li>
    If entered correctly, a red line will be drawn from the debris model to the
    script_struct. This line is the path that the debris will follow when flying
    away.
  </li>
</ul>
<p> </p>
<h1 class="_mce_tagged_br" id="CreatingaDebrisBlocker-FinishingUp">
  Finishing Up
</h1>
<h3 id="CreatingaDebrisBlocker-CreatingcopiesoftheDebris">
  Creating copies of the Debris
</h3>
<p>
  Now that you have created one working zombie_debris blocker, you can
  copy/paste it as many times as you want. Since we used targeting, the
  targetnames of the children are dynamic and will be regernerated for every
  copy. If you used multiple trigger_use's, you will need to manually edit the
  target KVPs for every copy, just as you did in section 1.3. Be sure to update
  the script_flag value if you copy the doors for a new zone volume.
</p>
<p> </p>
<p>Credit: Treminaor</p>
